import{G as C,b as a,c as f,d as v,f as s,H as B,g as k,i as L,k as A,e as m,t as w,n as E,F as I,x as F,v as R,a as J,r as V,w as O,C as N,j as U,D as x}from"./index-128946fe.js";const K={class:"p-inputgroup"},Y=C({__name:"TodoHeader",props:{jobName:String},setup(t){return(r,o)=>{const d=a("InputText"),i=a("Button");return f(),v("div",K,[s(d,{placeholder:"enter job",value:t.jobName,onInput:o[0]||(o[0]=e=>r.$emit("update:jobName",e.target.value)),onKeypress:o[1]||(o[1]=B(e=>r.$emit("addItemEmit"),["enter"]))},null,8,["value"]),s(i,{onClick:o[2]||(o[2]=e=>r.$emit("addItemEmit")),disabled:!t.jobName,icon:"pi pi-plus",severity:"success"},null,8,["disabled"])])}}}),q={key:0,class:"flex align-items-center"},G=C({__name:"TodoFooter",props:{todoList:Array,remaining:Number,selectedValue:String,clearAllItemConfirm:Function},emits:["update:selectedValue"],setup(t,{emit:r}){const o=["all","complete","uncomplete"];return(d,i)=>{const e=a("Chip"),c=a("SelectButton"),u=a("Button");return t.todoList.length?(f(),v("div",q,[s(e,{label:t.remaining+" item left"},null,8,["label"]),s(c,{class:"mx-2",modelValue:t.selectedValue,options:o,"aria-labelledby":"basic","onUpdate:modelValue":i[0]||(i[0]=g=>d.$emit("update:selectedValue",g))},null,8,["modelValue"]),s(u,{disabled:t.todoList.length===t.remaining,onClick:i[1]||(i[1]=g=>t.clearAllItemConfirm(g)),severity:"danger"},{default:k(()=>[L(" Clear")]),_:1},8,["disabled"])])):A("",!0)}}}),H=["for"],P=C({__name:"TodoItem",props:{item:Object,removeItemConfirm:Function},setup(t){return(r,o)=>{const d=a("Checkbox"),i=a("Button");return f(),v(I,null,[s(d,{modelValue:t.item.isDone,"onUpdate:modelValue":o[0]||(o[0]=e=>t.item.isDone=e),inputId:t.item.id,binary:!0},null,8,["modelValue","inputId"]),m("label",{class:E(["mx-2",[t.item.isDone&&"line-through"]]),for:t.item.id},w(t.item.name),11,H),s(i,{disabled:!t.item.isDone,onClick:o[1]||(o[1]=e=>t.removeItemConfirm(e,t.item.id)),icon:"pi pi-times",severity:"danger",text:"",rounded:"","aria-label":"Cancel"},null,8,["disabled"])],64)}}}),z={className:"grid"},M={className:"col-12"},Q={className:"card"},W=m("h5",null,"Todo List",-1),X={class:"col-12 md:col-6"},Z={class:"flex flex-column my-2"},te=C({__name:"TodoListComponents",setup(t){const r=F(),o=R(),d=()=>Date.now()+"",i="Todo-List-Test-Components",e=J(JSON.parse(localStorage.getItem(i))??[]),c=V(""),u=V("all"),g=()=>{const n=c.value.trim();n!==""&&(e.push({name:n,id:d(),isDone:!1}),o.add({severity:"success",summary:"Success",detail:"Job is added.",life:3e3}),c.value="")},T=n=>{const l=e.findIndex(y=>y.id===n);l>-1&&e.splice(l,1)},h=(n,l)=>{r.require({target:n.currentTarget,message:"Do you want to delete this record?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{T(l),o.add({severity:"info",summary:"Confirmed",detail:"Record deleted",life:3e3})},reject:()=>{o.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})},j=()=>{const n=b.uncomplete(e);e.length=0,e.push(...n)},D=n=>{r.require({target:n.currentTarget,message:"Do you want to delete this record?",icon:"pi pi-info-circle",acceptClass:"p-button-danger",accept:()=>{j(),o.add({severity:"info",summary:"Confirmed",detail:"All Done Job is deleted",life:3e3})},reject:()=>{o.add({severity:"error",summary:"Rejected",detail:"You have rejected",life:3e3})}})};O(e,()=>{localStorage.setItem(i,JSON.stringify(e))});const b={all:n=>n.filter(l=>l),uncomplete:n=>n.filter(l=>!l.isDone),complete:n=>n.filter(l=>l.isDone)},_=N(()=>b.uncomplete(e).length),S=N(()=>u.value==null?b.all(e):b[u.value](e));return(n,l)=>{const y=a("Toast"),$=a("ConfirmPopup");return f(),v(I,null,[s(y),s($),m("div",z,[m("div",M,[m("div",Q,[W,m("div",X,[s(Y,{jobName:c.value,"onUpdate:jobName":l[0]||(l[0]=p=>c.value=p),onAddItemEmit:g},null,8,["jobName"]),m("div",Z,[(f(!0),v(I,null,U(x(S),p=>(f(),v("div",{key:p.id,class:"flex align-items-center"},[s(P,{item:p,removeItemConfirm:h},null,8,["item"])]))),128))]),s(G,{todoList:e,remaining:x(_),clearAllItemConfirm:D,selectedValue:u.value,"onUpdate:selectedValue":l[1]||(l[1]=p=>u.value=p)},null,8,["todoList","remaining","selectedValue"])])])])])],64)}}});export{te as default};
